{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Documents\\\\projets\\\\nino\\\\actipod\\\\mood\\\\src\\\\contexts\\\\AuthContext.web.js\",\n  _this = this;\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { authConfig } from '../config/authConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar AuthContext = createContext();\nexport var useAuth = function useAuth() {\n  var context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\nvar webStorage = {\n  getItem: function () {\n    var _getItem = _asyncToGenerator(function* (key) {\n      try {\n        return localStorage.getItem(key);\n      } catch (error) {\n        console.error('Error getting item from localStorage:', error);\n        return null;\n      }\n    });\n    function getItem(_x) {\n      return _getItem.apply(this, arguments);\n    }\n    return getItem;\n  }(),\n  setItem: function () {\n    var _setItem = _asyncToGenerator(function* (key, value) {\n      try {\n        localStorage.setItem(key, value);\n      } catch (error) {\n        console.error('Error setting item in localStorage:', error);\n      }\n    });\n    function setItem(_x2, _x3) {\n      return _setItem.apply(this, arguments);\n    }\n    return setItem;\n  }(),\n  deleteItem: function () {\n    var _deleteItem = _asyncToGenerator(function* (key) {\n      try {\n        localStorage.removeItem(key);\n      } catch (error) {\n        console.error('Error deleting item from localStorage:', error);\n      }\n    });\n    function deleteItem(_x4) {\n      return _deleteItem.apply(this, arguments);\n    }\n    return deleteItem;\n  }()\n};\nvar initializeGoogleSignIn = function initializeGoogleSignIn() {\n  return new Promise(function (resolve, reject) {\n    if (window.google) {\n      resolve(window.google);\n      return;\n    }\n    var script = document.createElement('script');\n    script.src = 'https://accounts.google.com/gsi/client';\n    script.async = true;\n    script.defer = true;\n    script.onload = function () {\n      if (window.google) {\n        resolve(window.google);\n      } else {\n        reject(new Error('Google Sign-In failed to load'));\n      }\n    };\n    script.onerror = function () {\n      return reject(new Error('Failed to load Google Sign-In script'));\n    };\n    document.head.appendChild(script);\n  });\n};\nvar initializeFacebookLogin = function initializeFacebookLogin() {\n  return new Promise(function (resolve, reject) {\n    if (window.FB) {\n      resolve(window.FB);\n      return;\n    }\n    window.fbAsyncInit = function () {\n      window.FB.init({\n        appId: authConfig.facebook.appId,\n        cookie: true,\n        xfbml: true,\n        version: 'v18.0'\n      });\n      resolve(window.FB);\n    };\n    var script = document.createElement('script');\n    script.async = true;\n    script.defer = true;\n    script.src = 'https://connect.facebook.net/en_US/sdk.js';\n    script.onerror = function () {\n      return reject(new Error('Failed to load Facebook SDK'));\n    };\n    document.head.appendChild(script);\n  });\n};\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    googleLoaded = _useState6[0],\n    setGoogleLoaded = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    facebookLoaded = _useState8[0],\n    setFacebookLoaded = _useState8[1];\n  useEffect(function () {\n    initializeAuth();\n  }, []);\n  var initializeAuth = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        try {\n          yield initializeGoogleSignIn();\n          setGoogleLoaded(true);\n        } catch (error) {\n          console.warn('Google Sign-In not available:', error);\n        }\n        try {\n          yield initializeFacebookLogin();\n          setFacebookLoaded(true);\n        } catch (error) {\n          console.warn('Facebook Login not available:', error);\n        }\n        var savedUser = yield webStorage.getItem('user');\n        if (savedUser) {\n          setUser(JSON.parse(savedUser));\n        }\n      } catch (error) {\n        console.error('Auth initialization error:', error);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function initializeAuth() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var signInWithGoogle = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (!googleLoaded) {\n        return {\n          success: false,\n          error: 'Google Sign-In not available'\n        };\n      }\n      return new Promise(function (resolve) {\n        window.google.accounts.oauth2.initCodeClient({\n          client_id: authConfig.google.webClientId,\n          scope: 'email profile',\n          ux_mode: 'popup',\n          callback: function () {\n            var _callback = _asyncToGenerator(function* (response) {\n              try {\n                var tokenResponse = yield fetch('https://oauth2.googleapis.com/token', {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                  },\n                  body: new URLSearchParams({\n                    client_id: authConfig.google.webClientId,\n                    client_secret: authConfig.google.clientSecret,\n                    code: response.code,\n                    grant_type: 'authorization_code',\n                    redirect_uri: window.location.origin\n                  })\n                });\n                var tokens = yield tokenResponse.json();\n                if (tokens.access_token) {\n                  var userInfoResponse = yield fetch(`https://www.googleapis.com/oauth2/v2/userinfo?access_token=${tokens.access_token}`);\n                  var userInfo = yield userInfoResponse.json();\n                  yield webStorage.setItem('googleToken', tokens.access_token);\n                  yield webStorage.setItem('user', JSON.stringify(userInfo));\n                  setUser(userInfo);\n                  resolve({\n                    success: true\n                  });\n                } else {\n                  resolve({\n                    success: false,\n                    error: 'Failed to get access token'\n                  });\n                }\n              } catch (error) {\n                console.error('Google Sign-In Error:', error);\n                resolve({\n                  success: false,\n                  error: error.message\n                });\n              }\n            });\n            function callback(_x5) {\n              return _callback.apply(this, arguments);\n            }\n            return callback;\n          }()\n        }).requestCode();\n      });\n    });\n    return function signInWithGoogle() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var signInWithFacebook = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      if (!facebookLoaded) {\n        return {\n          success: false,\n          error: 'Facebook Login not available'\n        };\n      }\n      return new Promise(function (resolve) {\n        window.FB.login(function () {\n          var _ref5 = _asyncToGenerator(function* (response) {\n            if (response.authResponse) {\n              try {\n                var accessToken = response.authResponse.accessToken;\n                yield webStorage.setItem('facebookToken', accessToken);\n                window.FB.api('/me', {\n                  fields: 'id,name,email,picture'\n                }, function () {\n                  var _ref6 = _asyncToGenerator(function* (userInfo) {\n                    if (userInfo) {\n                      var _userInfo$picture, _userInfo$picture$dat;\n                      var userData = {\n                        id: userInfo.id,\n                        name: userInfo.name,\n                        email: userInfo.email,\n                        photo: (_userInfo$picture = userInfo.picture) == null ? void 0 : (_userInfo$picture$dat = _userInfo$picture.data) == null ? void 0 : _userInfo$picture$dat.url\n                      };\n                      yield webStorage.setItem('user', JSON.stringify(userData));\n                      setUser(userData);\n                      resolve({\n                        success: true\n                      });\n                    } else {\n                      resolve({\n                        success: false,\n                        error: 'Failed to get user info'\n                      });\n                    }\n                  });\n                  return function (_x7) {\n                    return _ref6.apply(this, arguments);\n                  };\n                }());\n              } catch (error) {\n                console.error('Facebook Login Error:', error);\n                resolve({\n                  success: false,\n                  error: error.message\n                });\n              }\n            } else {\n              resolve({\n                success: false,\n                error: 'Login cancelled'\n              });\n            }\n          });\n          return function (_x6) {\n            return _ref5.apply(this, arguments);\n          };\n        }(), {\n          scope: 'email,public_profile'\n        });\n      });\n    });\n    return function signInWithFacebook() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var signOut = function () {\n    var _ref7 = _asyncToGenerator(function* () {\n      try {\n        if (googleLoaded && window.google) {\n          window.google.accounts.oauth2.revoke(yield webStorage.getItem('googleToken'));\n        }\n        if (facebookLoaded && window.FB) {\n          window.FB.logout();\n        }\n        yield webStorage.deleteItem('user');\n        yield webStorage.deleteItem('googleToken');\n        yield webStorage.deleteItem('facebookToken');\n        setUser(null);\n      } catch (error) {\n        console.error('Sign out error:', error);\n      }\n    });\n    return function signOut() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var value = {\n    user: user,\n    loading: loading,\n    signInWithGoogle: signInWithGoogle,\n    signInWithFacebook: signInWithFacebook,\n    signOut: signOut,\n    googleLoaded: googleLoaded,\n    facebookLoaded: facebookLoaded\n  };\n  return _jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 10\n  }, _this);\n};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","authConfig","jsxDEV","_jsxDEV","AuthContext","useAuth","context","Error","webStorage","getItem","_getItem","_asyncToGenerator","key","localStorage","error","console","_x","apply","arguments","setItem","_setItem","value","_x2","_x3","deleteItem","_deleteItem","removeItem","_x4","initializeGoogleSignIn","Promise","resolve","reject","window","google","script","document","createElement","src","async","defer","onload","onerror","head","appendChild","initializeFacebookLogin","FB","fbAsyncInit","init","appId","facebook","cookie","xfbml","version","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","loading","setLoading","_useState5","_useState6","googleLoaded","setGoogleLoaded","_useState7","_useState8","facebookLoaded","setFacebookLoaded","initializeAuth","_ref2","warn","savedUser","JSON","parse","signInWithGoogle","_ref3","success","accounts","oauth2","initCodeClient","client_id","webClientId","scope","ux_mode","callback","_callback","response","tokenResponse","fetch","method","headers","body","URLSearchParams","client_secret","clientSecret","code","grant_type","redirect_uri","location","origin","tokens","json","access_token","userInfoResponse","userInfo","stringify","message","_x5","requestCode","signInWithFacebook","_ref4","login","_ref5","authResponse","accessToken","api","fields","_ref6","_userInfo$picture","_userInfo$picture$dat","userData","id","name","email","photo","picture","data","url","_x7","_x6","signOut","_ref7","revoke","logout","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_this"],"sources":["C:/Users/DELL/Documents/projets/nino/actipod/mood/src/contexts/AuthContext.web.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { authConfig } from '../config/authConfig';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\n// Web-compatible storage service\r\nconst webStorage = {\r\n  async getItem(key) {\r\n    try {\r\n      return localStorage.getItem(key);\r\n    } catch (error) {\r\n      console.error('Error getting item from localStorage:', error);\r\n      return null;\r\n    }\r\n  },\r\n  \r\n  async setItem(key, value) {\r\n    try {\r\n      localStorage.setItem(key, value);\r\n    } catch (error) {\r\n      console.error('Error setting item in localStorage:', error);\r\n    }\r\n  },\r\n  \r\n  async deleteItem(key) {\r\n    try {\r\n      localStorage.removeItem(key);\r\n    } catch (error) {\r\n      console.error('Error deleting item from localStorage:', error);\r\n    }\r\n  }\r\n};\r\n\r\n// Web-compatible Google Sign-In using Google Identity Services\r\nconst initializeGoogleSignIn = () => {\r\n  return new Promise((resolve, reject) => {\r\n    if (window.google) {\r\n      resolve(window.google);\r\n      return;\r\n    }\r\n\r\n    const script = document.createElement('script');\r\n    script.src = 'https://accounts.google.com/gsi/client';\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.onload = () => {\r\n      if (window.google) {\r\n        resolve(window.google);\r\n      } else {\r\n        reject(new Error('Google Sign-In failed to load'));\r\n      }\r\n    };\r\n    script.onerror = () => reject(new Error('Failed to load Google Sign-In script'));\r\n    document.head.appendChild(script);\r\n  });\r\n};\r\n\r\n// Web-compatible Facebook Login using Facebook SDK\r\nconst initializeFacebookLogin = () => {\r\n  return new Promise((resolve, reject) => {\r\n    if (window.FB) {\r\n      resolve(window.FB);\r\n      return;\r\n    }\r\n\r\n    window.fbAsyncInit = function() {\r\n      window.FB.init({\r\n        appId: authConfig.facebook.appId,\r\n        cookie: true,\r\n        xfbml: true,\r\n        version: 'v18.0'\r\n      });\r\n      resolve(window.FB);\r\n    };\r\n\r\n    const script = document.createElement('script');\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.src = 'https://connect.facebook.net/en_US/sdk.js';\r\n    script.onerror = () => reject(new Error('Failed to load Facebook SDK'));\r\n    document.head.appendChild(script);\r\n  });\r\n};\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [googleLoaded, setGoogleLoaded] = useState(false);\r\n  const [facebookLoaded, setFacebookLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    initializeAuth();\r\n  }, []);\r\n\r\n  const initializeAuth = async () => {\r\n    try {\r\n      // Initialize Google Sign-In\r\n      try {\r\n        await initializeGoogleSignIn();\r\n        setGoogleLoaded(true);\r\n      } catch (error) {\r\n        console.warn('Google Sign-In not available:', error);\r\n      }\r\n\r\n      // Initialize Facebook Login\r\n      try {\r\n        await initializeFacebookLogin();\r\n        setFacebookLoaded(true);\r\n      } catch (error) {\r\n        console.warn('Facebook Login not available:', error);\r\n      }\r\n\r\n      // Check for existing authentication\r\n      const savedUser = await webStorage.getItem('user');\r\n      if (savedUser) {\r\n        setUser(JSON.parse(savedUser));\r\n      }\r\n    } catch (error) {\r\n      console.error('Auth initialization error:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const signInWithGoogle = async () => {\r\n    if (!googleLoaded) {\r\n      return { success: false, error: 'Google Sign-In not available' };\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      window.google.accounts.oauth2.initCodeClient({\r\n        client_id: authConfig.google.webClientId,\r\n        scope: 'email profile',\r\n        ux_mode: 'popup',\r\n        callback: async (response) => {\r\n          try {\r\n            // Exchange authorization code for tokens\r\n            const tokenResponse = await fetch('https://oauth2.googleapis.com/token', {\r\n              method: 'POST',\r\n              headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded',\r\n              },\r\n              body: new URLSearchParams({\r\n                client_id: authConfig.google.webClientId,\r\n                client_secret: authConfig.google.clientSecret,\r\n                code: response.code,\r\n                grant_type: 'authorization_code',\r\n                redirect_uri: window.location.origin,\r\n              }),\r\n            });\r\n\r\n            const tokens = await tokenResponse.json();\r\n            \r\n            if (tokens.access_token) {\r\n              // Get user info\r\n              const userInfoResponse = await fetch(\r\n                `https://www.googleapis.com/oauth2/v2/userinfo?access_token=${tokens.access_token}`\r\n              );\r\n              const userInfo = await userInfoResponse.json();\r\n\r\n              await webStorage.setItem('googleToken', tokens.access_token);\r\n              await webStorage.setItem('user', JSON.stringify(userInfo));\r\n              \r\n              setUser(userInfo);\r\n              resolve({ success: true });\r\n            } else {\r\n              resolve({ success: false, error: 'Failed to get access token' });\r\n            }\r\n          } catch (error) {\r\n            console.error('Google Sign-In Error:', error);\r\n            resolve({ success: false, error: error.message });\r\n          }\r\n        },\r\n      }).requestCode();\r\n    });\r\n  };\r\n\r\n  const signInWithFacebook = async () => {\r\n    if (!facebookLoaded) {\r\n      return { success: false, error: 'Facebook Login not available' };\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      window.FB.login(async (response) => {\r\n        if (response.authResponse) {\r\n          try {\r\n            const { accessToken } = response.authResponse;\r\n            await webStorage.setItem('facebookToken', accessToken);\r\n            \r\n            // Get user info\r\n            window.FB.api('/me', { fields: 'id,name,email,picture' }, async (userInfo) => {\r\n              if (userInfo) {\r\n                const userData = {\r\n                  id: userInfo.id,\r\n                  name: userInfo.name,\r\n                  email: userInfo.email,\r\n                  photo: userInfo.picture?.data?.url,\r\n                };\r\n                \r\n                await webStorage.setItem('user', JSON.stringify(userData));\r\n                setUser(userData);\r\n                resolve({ success: true });\r\n              } else {\r\n                resolve({ success: false, error: 'Failed to get user info' });\r\n              }\r\n            });\r\n          } catch (error) {\r\n            console.error('Facebook Login Error:', error);\r\n            resolve({ success: false, error: error.message });\r\n          }\r\n        } else {\r\n          resolve({ success: false, error: 'Login cancelled' });\r\n        }\r\n      }, { scope: 'email,public_profile' });\r\n    });\r\n  };\r\n\r\n  const signOut = async () => {\r\n    try {\r\n      // Sign out from Google\r\n      if (googleLoaded && window.google) {\r\n        window.google.accounts.oauth2.revoke(await webStorage.getItem('googleToken'));\r\n      }\r\n      \r\n      // Sign out from Facebook\r\n      if (facebookLoaded && window.FB) {\r\n        window.FB.logout();\r\n      }\r\n      \r\n      // Clear local storage\r\n      await webStorage.deleteItem('user');\r\n      await webStorage.deleteItem('googleToken');\r\n      await webStorage.deleteItem('facebookToken');\r\n      \r\n      setUser(null);\r\n    } catch (error) {\r\n      console.error('Sign out error:', error);\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    loading,\r\n    signInWithGoogle,\r\n    signInWithFacebook,\r\n    signOut,\r\n    googleLoaded,\r\n    facebookLoaded,\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}