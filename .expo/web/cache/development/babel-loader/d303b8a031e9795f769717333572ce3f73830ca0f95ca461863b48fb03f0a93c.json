{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, GoogleAuthProvider, FacebookAuthProvider, signInWithPopup, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut as firebaseSignOut, onAuthStateChanged as _onAuthStateChanged } from 'firebase/auth';\nimport { firebaseConfig, googleOAuthConfig, facebookConfig } from '../config/firebaseConfig';\nvar app = initializeApp(firebaseConfig);\nvar auth = getAuth(app);\nvar googleProvider = new GoogleAuthProvider();\ngoogleProvider.addScope('email');\ngoogleProvider.addScope('profile');\nvar facebookProvider = new FacebookAuthProvider();\nfacebookProvider.addScope('email');\nfacebookProvider.addScope('public_profile');\nvar FirebaseAuthService = function () {\n  function FirebaseAuthService() {\n    _classCallCheck(this, FirebaseAuthService);\n    this.auth = auth;\n    this.googleProvider = googleProvider;\n    this.facebookProvider = facebookProvider;\n  }\n  return _createClass(FirebaseAuthService, [{\n    key: \"onAuthStateChanged\",\n    value: function onAuthStateChanged(callback) {\n      return _onAuthStateChanged(this.auth, callback);\n    }\n  }, {\n    key: \"signInWithGoogle\",\n    value: function () {\n      var _signInWithGoogle = _asyncToGenerator(function* () {\n        try {\n          var result = yield signInWithPopup(this.auth, this.googleProvider);\n          var user = result.user;\n          return {\n            success: true,\n            user: {\n              uid: user.uid,\n              email: user.email,\n              name: user.displayName,\n              photo: user.photoURL,\n              provider: 'google'\n            }\n          };\n        } catch (error) {\n          console.error('Google Sign-In Error:', error);\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n      });\n      function signInWithGoogle() {\n        return _signInWithGoogle.apply(this, arguments);\n      }\n      return signInWithGoogle;\n    }()\n  }, {\n    key: \"signInWithFacebook\",\n    value: function () {\n      var _signInWithFacebook = _asyncToGenerator(function* () {\n        try {\n          var result = yield signInWithPopup(this.auth, this.facebookProvider);\n          var user = result.user;\n          return {\n            success: true,\n            user: {\n              uid: user.uid,\n              email: user.email,\n              name: user.displayName,\n              photo: user.photoURL,\n              provider: 'facebook'\n            }\n          };\n        } catch (error) {\n          console.error('Facebook Sign-In Error:', error);\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n      });\n      function signInWithFacebook() {\n        return _signInWithFacebook.apply(this, arguments);\n      }\n      return signInWithFacebook;\n    }()\n  }, {\n    key: \"signInWithEmail\",\n    value: function () {\n      var _signInWithEmail = _asyncToGenerator(function* (email, password) {\n        try {\n          var result = yield signInWithEmailAndPassword(this.auth, email, password);\n          var user = result.user;\n          return {\n            success: true,\n            user: {\n              uid: user.uid,\n              email: user.email,\n              name: user.displayName || user.email,\n              photo: user.photoURL,\n              provider: 'email'\n            }\n          };\n        } catch (error) {\n          console.error('Email Sign-In Error:', error);\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n      });\n      function signInWithEmail(_x, _x2) {\n        return _signInWithEmail.apply(this, arguments);\n      }\n      return signInWithEmail;\n    }()\n  }, {\n    key: \"signUpWithEmail\",\n    value: function () {\n      var _signUpWithEmail = _asyncToGenerator(function* (email, password) {\n        var displayName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        try {\n          var result = yield createUserWithEmailAndPassword(this.auth, email, password);\n          var user = result.user;\n          if (displayName) {\n            yield user.updateProfile({\n              displayName: displayName\n            });\n          }\n          return {\n            success: true,\n            user: {\n              uid: user.uid,\n              email: user.email,\n              name: displayName || user.email,\n              photo: user.photoURL,\n              provider: 'email'\n            }\n          };\n        } catch (error) {\n          console.error('Email Sign-Up Error:', error);\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n      });\n      function signUpWithEmail(_x3, _x4) {\n        return _signUpWithEmail.apply(this, arguments);\n      }\n      return signUpWithEmail;\n    }()\n  }, {\n    key: \"signOut\",\n    value: function () {\n      var _signOut = _asyncToGenerator(function* () {\n        try {\n          yield firebaseSignOut(this.auth);\n          return {\n            success: true\n          };\n        } catch (error) {\n          console.error('Sign Out Error:', error);\n          return {\n            success: false,\n            error: error.message\n          };\n        }\n      });\n      function signOut() {\n        return _signOut.apply(this, arguments);\n      }\n      return signOut;\n    }()\n  }, {\n    key: \"getCurrentUser\",\n    value: function getCurrentUser() {\n      return this.auth.currentUser;\n    }\n  }, {\n    key: \"isAuthenticated\",\n    value: function isAuthenticated() {\n      return !!this.auth.currentUser;\n    }\n  }]);\n}();\nexport var firebaseAuthService = new FirebaseAuthService();\nexport default firebaseAuthService;","map":{"version":3,"names":["initializeApp","getAuth","GoogleAuthProvider","FacebookAuthProvider","signInWithPopup","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","firebaseSignOut","onAuthStateChanged","firebaseConfig","googleOAuthConfig","facebookConfig","app","auth","googleProvider","addScope","facebookProvider","FirebaseAuthService","_classCallCheck","_createClass","key","value","callback","_signInWithGoogle","_asyncToGenerator","result","user","success","uid","email","name","displayName","photo","photoURL","provider","error","console","message","signInWithGoogle","apply","arguments","_signInWithFacebook","signInWithFacebook","_signInWithEmail","password","signInWithEmail","_x","_x2","_signUpWithEmail","length","undefined","updateProfile","signUpWithEmail","_x3","_x4","_signOut","getCurrentUser","currentUser","isAuthenticated","firebaseAuthService"],"sources":["C:/Users/DELL/Documents/projets/nino/actipod/mood/src/services/firebaseAuthService.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\r\nimport { \r\n  getAuth, \r\n  GoogleAuthProvider, \r\n  FacebookAuthProvider,\r\n  signInWithPopup,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  signOut as firebaseSignOut,\r\n  onAuthStateChanged\r\n} from 'firebase/auth';\r\nimport { firebaseConfig, googleOAuthConfig, facebookConfig } from '../config/firebaseConfig';\r\n\r\n// Initialiser Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\n\r\n// Configurer les providers\r\nconst googleProvider = new GoogleAuthProvider();\r\ngoogleProvider.addScope('email');\r\ngoogleProvider.addScope('profile');\r\n\r\nconst facebookProvider = new FacebookAuthProvider();\r\nfacebookProvider.addScope('email');\r\nfacebookProvider.addScope('public_profile');\r\n\r\nclass FirebaseAuthService {\r\n  constructor() {\r\n    this.auth = auth;\r\n    this.googleProvider = googleProvider;\r\n    this.facebookProvider = facebookProvider;\r\n  }\r\n\r\n  // Écouter les changements d'état d'authentification\r\n  onAuthStateChanged(callback) {\r\n    return onAuthStateChanged(this.auth, callback);\r\n  }\r\n\r\n  // Connexion avec Google\r\n  async signInWithGoogle() {\r\n    try {\r\n      const result = await signInWithPopup(this.auth, this.googleProvider);\r\n      const user = result.user;\r\n      \r\n      return {\r\n        success: true,\r\n        user: {\r\n          uid: user.uid,\r\n          email: user.email,\r\n          name: user.displayName,\r\n          photo: user.photoURL,\r\n          provider: 'google'\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('Google Sign-In Error:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message\r\n      };\r\n    }\r\n  }\r\n\r\n  // Connexion avec Facebook\r\n  async signInWithFacebook() {\r\n    try {\r\n      const result = await signInWithPopup(this.auth, this.facebookProvider);\r\n      const user = result.user;\r\n      \r\n      return {\r\n        success: true,\r\n        user: {\r\n          uid: user.uid,\r\n          email: user.email,\r\n          name: user.displayName,\r\n          photo: user.photoURL,\r\n          provider: 'facebook'\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('Facebook Sign-In Error:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message\r\n      };\r\n    }\r\n  }\r\n\r\n  // Connexion avec email/mot de passe\r\n  async signInWithEmail(email, password) {\r\n    try {\r\n      const result = await signInWithEmailAndPassword(this.auth, email, password);\r\n      const user = result.user;\r\n      \r\n      return {\r\n        success: true,\r\n        user: {\r\n          uid: user.uid,\r\n          email: user.email,\r\n          name: user.displayName || user.email,\r\n          photo: user.photoURL,\r\n          provider: 'email'\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('Email Sign-In Error:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message\r\n      };\r\n    }\r\n  }\r\n\r\n  // Inscription avec email/mot de passe\r\n  async signUpWithEmail(email, password, displayName = null) {\r\n    try {\r\n      const result = await createUserWithEmailAndPassword(this.auth, email, password);\r\n      const user = result.user;\r\n      \r\n      // Mettre à jour le nom d'affichage si fourni\r\n      if (displayName) {\r\n        await user.updateProfile({ displayName });\r\n      }\r\n      \r\n      return {\r\n        success: true,\r\n        user: {\r\n          uid: user.uid,\r\n          email: user.email,\r\n          name: displayName || user.email,\r\n          photo: user.photoURL,\r\n          provider: 'email'\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('Email Sign-Up Error:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message\r\n      };\r\n    }\r\n  }\r\n\r\n  // Déconnexion\r\n  async signOut() {\r\n    try {\r\n      await firebaseSignOut(this.auth);\r\n      return { success: true };\r\n    } catch (error) {\r\n      console.error('Sign Out Error:', error);\r\n      return {\r\n        success: false,\r\n        error: error.message\r\n      };\r\n    }\r\n  }\r\n\r\n  // Obtenir l'utilisateur actuel\r\n  getCurrentUser() {\r\n    return this.auth.currentUser;\r\n  }\r\n\r\n  // Vérifier si l'utilisateur est connecté\r\n  isAuthenticated() {\r\n    return !!this.auth.currentUser;\r\n  }\r\n}\r\n\r\n// Exporter une instance singleton\r\nexport const firebaseAuthService = new FirebaseAuthService();\r\nexport default firebaseAuthService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}